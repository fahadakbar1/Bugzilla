<%= render "shared/navigationbar" %>

<body style="background-color: #00203FFF;">
  <section class="container mx-auto">
    <div class="row">
    <div class="col">

      <h3 class="text-center">Add New Bug</h3>

      <%= form_with(model: [ @project, @project.bugs.build ], local: true) do |form| %>

      <% if @bug.errors.any? %>
      <div id="error_explanation">
        <h2>
          <%= pluralize(@bug.errors.count, "error") %> prohibited
          this bug from being saved:
        </h2>
        <ul>
          <% @bug.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
      <% end %>

      <div class="form-group">
        <%= form.label :title %><br>
        <%= form.text_field :title, :required => true , :class => 'form-control input-lg', :minlength => 6 %>
      </div>

      <div class="form-group">
        <%= form.label :description %><br>
        <%= form.text_area :description , class: 'form-control input-lg'%>
      </div>

      <div class="form-group">
        <%= form.label :deadline %><br>
        <%= form.date_select :deadline %>
      </div>


      <%= form.label :screenshot  %><br>
      <%= form.file_field :screenshot%>
      <br>
      <div class="form-group">
        <%= form.label :Type  %><br>
        <%= form.select :bugtype, Bug.bugtypes.keys , {}, { class: "form-control input-lg" }%>
      </div>

      <div class="pt-1 mb-4">
        <%= form.submit "Create Bug" , class: 'btn btn-info btn-lg btn-block'%>
      </div>
      <% end %> <br/>

      <%= link_to 'Back', project_path(@project) %>

    </div>
    </div>
  </section>
</body>
